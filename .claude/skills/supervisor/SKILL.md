---
name: supervisor
description: ì‘ì—… ê·œëª¨ íŒë‹¨(T-shirt Sizing) ë° Claude Tasks + ë™ì  subagentë¡œ ì‘ì—… ë¶„ë°°. êµ¬í˜„ ìš”ì²­ì˜ ì§„ì…ì .
allowed-tools: Read, Glob, Grep, Task, TaskCreate, TaskUpdate, TaskList, AskUserQuestion
---

# Supervisor (ì§€íœ˜ì)

> **ì—­í• **: ì‚¬ìš©ì ìš”ì²­ ìˆ˜ì§‘ â†’ ë¶„ì„ â†’ Plan ì‘ì„± â†’ Tasks ìƒì„± â†’ ìŠ¹ì¸ â†’ ì‹¤í–‰
> **ì–¸ì–´**: ëª¨ë“  ê²°ê³¼ëŠ” **í•œê¸€**ë¡œ ë³´ê³ 

---

## Workflow

```
1. /supervisor í˜¸ì¶œ
      â†“
2. ì‚¬ìš©ìì—ê²Œ êµ¬í˜„í•  ê¸°ëŠ¥ ì§ˆë¬¸
      â†“
3. ìš”ì²­ ë¶„ì„ ë° T-shirt Sizing (S/M/L)
      â†“
4. Plan ì‘ì„± (ì‘ì—… ë¶„í•´, subagent êµ¬ì„±)
      â†“
5. Claude Tasks ìƒì„± (ì˜ì¡´ì„± í¬í•¨)
      â†“
6. ì‚¬ìš©ì ìŠ¹ì¸ ìš”ì²­
      â†“ ìŠ¹ì¸
7. Task ë„êµ¬ë¡œ subagent ë™ì  ìƒì„± ë° ì‹¤í–‰
      â†“
8. ê²°ê³¼ í†µí•© ë° ê²€ì¦
```

---

## Step 1: ê¸°ëŠ¥ ì§ˆë¬¸

/supervisor í˜¸ì¶œ ì‹œ ì‚¬ìš©ìì—ê²Œ ì§ˆë¬¸:

```
ì–´ë–¤ ê¸°ëŠ¥ì„ êµ¬í˜„í• ê¹Œìš”?

ì˜ˆì‹œ:
- "ë¡œê·¸ì¸ ê¸°ëŠ¥ ì¶”ê°€"
- "ì‚¬ìš©ì ê´€ë¦¬ í˜ì´ì§€ êµ¬í˜„"
- "ì•Œë¦¼ API ë¦¬íŒ©í† ë§"
```

---

## Step 2-3: ë¶„ì„ ë° T-shirt Sizing

> **Extended Thinking**: ë³µì¡í•œ ìš”ì²­ì¼ìˆ˜ë¡ ê¹Šì´ ìƒê°í•˜ì„¸ìš”.
> "Think step by step about the scope, dependencies, and potential risks."

| ê·œëª¨ | ì •ì˜ | subagent ì „ëµ |
|------|------|---------------|
| **S** | ë‹¨ìˆœ ìˆ˜ì • (1-2 íŒŒì¼) | subagent ë¶ˆí•„ìš”, ì§ì ‘ TDD ì²˜ë¦¬ |
| **M** | ì‹ ê·œ ì»´í¬ë„ŒíŠ¸ (3-5 íŒŒì¼) | 1-2ê°œ subagent |
| **L** | ì•„í‚¤í…ì²˜ ë³€ê²½ (5+ íŒŒì¼) | í•„ìš”í•œ ë§Œí¼ (ì¼ë°˜ì ìœ¼ë¡œ 2-4ê°œ) |

### Extended Thinking ì ìš© ì‹œì 
- ê·œëª¨ íŒë‹¨ì´ ì• ë§¤í•  ë•Œ
- ì—¬ëŸ¬ ë„ë©”ì¸ì— ê±¸ì¹œ ë³€ê²½ì¼ ë•Œ
- ê¸°ì¡´ ì½”ë“œ ìˆ˜ì •ì´ ë§ì„ ë•Œ
- ì˜ì¡´ì„±ì´ ë³µì¡í•  ë•Œ

---

## Step 3.5: ì‘ì—…ëŸ‰ ê· ë“± ë¶„ë°° (ì¤‘ìš”!)

### ì›ì¹™
**ê° subagentì˜ ì‘ì—…ëŸ‰(volume)ì´ ë¹„ìŠ·í•˜ë„ë¡ ë¶„ë°°**

### ì‘ì—…ëŸ‰ ì¶”ì • ê¸°ì¤€
| í•­ëª© | ì‘ì—…ëŸ‰ |
|------|--------|
| ë‹¨ìˆœ CRUD API 1ê°œ | ì†Œ |
| ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìˆëŠ” API | ì¤‘ |
| ë³µì¡í•œ API (ì—¬ëŸ¬ ì„œë¹„ìŠ¤ ì—°ë™) | ëŒ€ |
| ë‹¨ìˆœ í¼/ëª©ë¡ í˜ì´ì§€ | ì†Œ |
| ëŒ€ì‹œë³´ë“œ/ì°¨íŠ¸ í˜ì´ì§€ | ì¤‘~ëŒ€ |
| ë³µì¡í•œ ìƒí˜¸ì‘ìš© UI | ëŒ€ |

### ë¶„ë°° ë°©ë²•

**Case 1: ì‘ì—…ëŸ‰ ë¹„ìŠ·í•¨ â†’ ê¸°ìˆ  ìŠ¤íƒë³„ ë¶„ë¦¬**
```
API (ì¤‘) + UI (ì¤‘)
â†’ Architect 1ê°œ + Stylist 1ê°œ
```

**Case 2: í•œìª½ì´ í¼ â†’ í° ìª½ ë¶„í• **
```
API (ì†Œ) + UI (ëŒ€: ëª©ë¡+ìƒì„¸+í¸ì§‘)
â†’ Architect 1ê°œ + Stylist-ëª©ë¡ 1ê°œ + Stylist-ìƒì„¸/í¸ì§‘ 1ê°œ
```

**Case 3: ì–‘ìª½ ë‹¤ í¼ â†’ ì–‘ìª½ ë¶„í• **
```
API (ëŒ€: ì¸ì¦+ê¶Œí•œ+í”„ë¡œí•„) + UI (ëŒ€: ë¡œê·¸ì¸+íšŒì›ê°€ì…+ë§ˆì´í˜ì´ì§€)
â†’ Architect-ì¸ì¦ 1ê°œ + Architect-í”„ë¡œí•„ 1ê°œ
â†’ Stylist-ë¡œê·¸ì¸/íšŒì›ê°€ì… 1ê°œ + Stylist-ë§ˆì´í˜ì´ì§€ 1ê°œ
```

---

## Step 4: Plan ì‘ì„±

ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì¤„ Plan í˜•ì‹:

```markdown
## ğŸ“‹ êµ¬í˜„ Plan

**ìš”ì²­**: {ì‚¬ìš©ì ìš”ì²­ ìš”ì•½}
**ê·œëª¨**: {S/M/L}
**GitHub Issue**: #{ì´ìŠˆë²ˆí˜¸} (ì—°ê²°ëœ ê²½ìš°)

### ì‘ì—…ëŸ‰ ë¶„ì„
| ì˜ì—­ | ì‘ì—… ë‚´ìš© | ì‘ì—…ëŸ‰ |
|------|----------|--------|
| API | {ë‚´ìš©} | ì†Œ/ì¤‘/ëŒ€ |
| UI | {ë‚´ìš©} | ì†Œ/ì¤‘/ëŒ€ |

### ì‘ì—… ë¶„í•´ (ê· ë“± ë¶„ë°°)
| Task # | ì—­í•  | ì‘ì—… ë‚´ìš© | ì˜ì¡´ì„± | ì‘ì—…ëŸ‰ |
|--------|------|----------|--------|--------|
| 1 | Architect | Entity ì •ì˜ | - | ì†Œ |
| 2 | Architect | Service êµ¬í˜„ | blocked by #1 | ì¤‘ |
| 3 | Architect | Controller êµ¬í˜„ | blocked by #2 | ì†Œ |
| 4 | Stylist | UI ì»´í¬ë„ŒíŠ¸ | blocked by #3 | ì¤‘ |

### API ì¸í„°í˜ì´ìŠ¤ (subagent ê°„ ê³µìœ )
```json
{
  "endpoint": "POST /v1/example",
  "response": { "id": "string", "name": "string" }
}
```

### ì‹¤í–‰ ë°©ì‹
- ë³‘ë ¬ subagent: {N}ê°œ
- TDD ì ìš©: API (í•„ìˆ˜), UI (ì„ íƒ)
- ì˜ˆìƒ ì˜í–¥ íŒŒì¼: {íŒŒì¼ ëª©ë¡}

### ê²€ì¦
- ops-api ë¹Œë“œ + í…ŒìŠ¤íŠ¸
- ops-web ë¹Œë“œ + í…ŒìŠ¤íŠ¸
- /quality-gate ì‹¤í–‰

---
**ì´ Planìœ¼ë¡œ ì§„í–‰í• ê¹Œìš”?**
```

---

## Step 5: Claude Tasks ìƒì„±

Plan ìŠ¹ì¸ ì „, Tasksë¥¼ ë¯¸ë¦¬ ìƒì„±í•˜ì—¬ ì˜ì¡´ì„± ì‹œê°í™”:

```
TaskCreate:
  subject: "Entity ì •ì˜"
  description: "ì•Œë¦¼ Entity ë° DTO ì •ì˜"

TaskCreate:
  subject: "Service êµ¬í˜„"
  description: "ì•Œë¦¼ Service (CRUD + ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)"

TaskUpdate:
  taskId: "2"
  addBlockedBy: ["1"]  # Task #1 ì™„ë£Œ í›„ ì‹œì‘
```

**Tasks í‘œì‹œ ì˜ˆì‹œ**:
```
Tasks (0 done, 4 open)
â–¡ #1 Entity ì •ì˜
â–¡ #2 Service êµ¬í˜„ > blocked by #1
â–¡ #3 Controller êµ¬í˜„ > blocked by #2
â–¡ #4 UI ì»´í¬ë„ŒíŠ¸ > blocked by #3
```

---

## Step 6: ìŠ¹ì¸ ìš”ì²­

ì‚¬ìš©ìì—ê²Œ ìŠ¹ì¸ ì§ˆë¬¸:

```
ì´ Planìœ¼ë¡œ ì§„í–‰í• ê¹Œìš”?

- ì˜ˆ, ì§„í–‰í•´ì£¼ì„¸ìš”
- ìˆ˜ì •ì´ í•„ìš”í•´ìš” (ìˆ˜ì • ì‚¬í•­ ì…ë ¥)
- ì·¨ì†Œ
```

---

## Step 7: ì‹¤í–‰

ìŠ¹ì¸ í›„ Task ë„êµ¬ë¡œ subagent ìƒì„±:

### Subagent Prompt í…œí”Œë¦¿

**API êµ¬í˜„ (Architect) - TDD í•„ìˆ˜**
```
[Architect ì—­í•  - API êµ¬í˜„]

ì‘ì—…: {êµ¬ì²´ì ì¸ ì‘ì—… ë‚´ìš©}
Task ID: #{task_id}

**TDD í•„ìˆ˜** (Red â†’ Green â†’ Refactor):
1. í…ŒìŠ¤íŠ¸ ë¨¼ì € ì‘ì„± (ì‹¤íŒ¨ í™•ì¸)
2. ìµœì†Œ ì½”ë“œë¡œ í†µê³¼
3. ë¦¬íŒ©í† ë§
4. ë‹¤ìŒ í…ŒìŠ¤íŠ¸ë¡œ

í•„ìˆ˜ ê·œì¹™ (@.agent/workflows/architect.md):
- Controllerì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê¸ˆì§€
- Logger ì‚¬ìš© (console.log ê¸ˆì§€)
- Entity ì§ì ‘ ë°˜í™˜ ê¸ˆì§€ â†’ DTO ë³€í™˜
- any íƒ€ì… ê¸ˆì§€

ì™„ë£Œ ì¡°ê±´:
1. ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼
2. npm run build ì„±ê³µ
3. Task ìƒíƒœ ì—…ë°ì´íŠ¸ (TaskUpdate â†’ completed)
4. ë³€ê²½ íŒŒì¼ ëª©ë¡ ë³´ê³ 
```

**UI êµ¬í˜„ (Stylist)**
```
[Stylist ì—­í•  - UI êµ¬í˜„]

ì‘ì—…: {êµ¬ì²´ì ì¸ ì‘ì—… ë‚´ìš©}
Task ID: #{task_id}

í•„ìˆ˜ ê·œì¹™ (@.agent/workflows/stylist.md):
- App Router ì‚¬ìš© (pages/ ê¸ˆì§€)
- Server/Client Component êµ¬ë¶„
- 'use client' í•„ìš”ì‹œë§Œ ì¶”ê°€
- Tailwind CSS ì‚¬ìš©

í…ŒìŠ¤íŠ¸:
- ì»´í¬ë„ŒíŠ¸ êµ¬í˜„ í›„ í…ŒìŠ¤íŠ¸ ì‘ì„±
- Storybook stories (ì„ íƒ)

ì™„ë£Œ ì¡°ê±´:
1. ì»´í¬ë„ŒíŠ¸ êµ¬í˜„ ì™„ë£Œ
2. npm run build ì„±ê³µ
3. Task ìƒíƒœ ì—…ë°ì´íŠ¸ (TaskUpdate â†’ completed)
4. ë³€ê²½ íŒŒì¼ ëª©ë¡ ë³´ê³ 
```

---

## Step 8: ê²€ì¦ ë° ì™„ë£Œ

ëª¨ë“  subagent ì™„ë£Œ í›„:

1. `cd /home/ilim/ops-v2/ops-api && npm run build && npm test`
2. `cd /home/ilim/ops-v2/ops-web && npm run build && npm test`
3. `/quality-gate` ì‹¤í–‰
4. ê²°ê³¼ ë³´ê³ 

```
## êµ¬í˜„ ì™„ë£Œ

**GitHub Issue**: #{ì´ìŠˆë²ˆí˜¸}
**Tasks**: 4/4 ì™„ë£Œ

### ë³€ê²½ íŒŒì¼
- ops-api/src/notification/...
- ops-web/src/components/notification/...

### ê²€ì¦ ê²°ê³¼
- ops-api ë¹Œë“œ: âœ…
- ops-api í…ŒìŠ¤íŠ¸: âœ… (12 passed)
- ops-web ë¹Œë“œ: âœ…
- /quality-gate: âœ… PASS

---
/smart-commit --review ë¡œ PR ìƒì„±í•˜ì‹œê² ìŠµë‹ˆê¹Œ?
```

---

## ì£¼ì˜ì‚¬í•­

1. **Plan ë¨¼ì €**: ì‹¤í–‰ ì „ ë°˜ë“œì‹œ Plan ì‘ì„± ë° ìŠ¹ì¸
2. **Tasks í•„ìˆ˜**: M/L ê·œëª¨ëŠ” ë°˜ë“œì‹œ Claude Tasks ìƒì„±
3. **TDD í•„ìˆ˜**: APIëŠ” ë°˜ë“œì‹œ TDD (Red-Green-Refactor)
4. **ì˜ì¡´ì„± í™•ì¸**: ìˆœì°¨ ì‹¤í–‰ì´ í•„ìš”í•œ ì‘ì—…ì€ blockedBy ì„¤ì •
5. **ê²°ê³¼ í†µí•©**: ëª¨ë“  subagent ì™„ë£Œ í›„ ë¹Œë“œ/í…ŒìŠ¤íŠ¸ë¡œ ìµœì¢… ê²€ì¦

---

## NOT TO DO

- S ê·œëª¨ë¥¼ M/Lë¡œ ê³¼ëŒ€í‰ê°€ (ë¶ˆí•„ìš”í•œ ë³µì¡ì„±)
- ì˜ì¡´ì„± ì—†ëŠ” Taskë¥¼ blockedByë¡œ ì—°ê²° (ë³‘ë ¬ ì‹¤í–‰ ë°©í•´)
- í•œ subagentì— ë¶ˆê· í˜•í•œ ì‘ì—…ëŸ‰ í• ë‹¹
- Plan ì—†ì´ ë°”ë¡œ subagent ì‹¤í–‰
- ì‚¬ìš©ì ìŠ¹ì¸ ì—†ì´ êµ¬í˜„ ì‹œì‘
- API ì¸í„°í˜ì´ìŠ¤ ì •ì˜ ì—†ì´ UI ì‘ì—… ì‹œì‘
- subagent ì‹¤íŒ¨ ë¬´ì‹œí•˜ê³  ë‹¤ìŒ ë‹¨ê³„ ì§„í–‰
- /quality-gate ìŠ¤í‚µí•˜ê³  ì»¤ë°‹
